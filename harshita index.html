<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bhajan Sangrah — Devotional Bhajans</title>
  <meta name="description" content="A small devotional site with bhajan playlist, lyrics, gallery and event info." />
  <!-- Replace or remove Google Font link if you don't want external fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent:#7b3fe4;
      --muted:#6b7280;
      --bg:#fff;
      --card:#f8fafc;
      font-family: 'Nunito', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#111;line-height:1.45}
    header{background:linear-gradient(90deg,var(--accent),#5a6ad6);color:white;padding:28px 18px}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:10px;background:rgba(255,255,255,0.12);display:flex;align-items:center;justify-content:center;font-weight:700}
    h1{margin:0;font-size:1.6rem}
    p.lead{margin:6px 0 0;color:rgba(255,255,255,0.95)}

    main{padding:22px 18px}
    .grid{display:grid;gap:18px}
    @media(min-width:900px){.grid{grid-template-columns: 1fr 360px}}

    /* Player card */
    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(20,20,40,0.04)}
    .player-meta{display:flex;gap:12px;align-items:center}
    .art{width:76px;height:76px;border-radius:8px;background:linear-gradient(180deg,#fff,#eee);display:flex;align-items:center;justify-content:center;font-weight:700}
    .song-title{font-weight:700}
    .controls{display:flex;gap:8px;align-items:center;margin-top:10px}
    .btn{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:white;cursor:pointer}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(0,0,0,0.06)}

    /* Playlist */
    .playlist{margin-top:12px}
    .track{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;cursor:pointer}
    .track:hover{background:rgba(0,0,0,0.03)}
    .track.active{background:rgba(123,63,228,0.09)}
    .small{font-size:0.9rem;color:var(--muted)}

    /* Lyrics */
    .lyrics{white-space:pre-wrap;margin-top:12px;padding:12px;background:white;border-radius:8px}

    /* Sidebar */
    .sidebar .section{margin-bottom:16px}
    .events li{margin-bottom:8px}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    @media(min-width:500px){.gallery{grid-template-columns:repeat(4,1fr)}}
    .gallery img{width:100%;height:90px;object-fit:cover;border-radius:8px}

    footer{padding:18px;text-align:center;color:var(--muted);font-size:0.9rem}

    /* small form */
    input[type="text"],input[type="email"],textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ee}
    label{font-size:0.9rem}
    .flex{display:flex;gap:8px}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="brand">
        <div class="logo">भ</div>
        <div>
          <h1>Bhajan Sangrah</h1>
          <p class="lead">A small devotional collection — bhajans, lyrics, gallery and events</p>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid">
      <!-- MAIN COLUMN -->
      <section>
        <div class="card" id="playerCard">
          <div class="player-meta">
            <div class="art" id="coverArt">भ</div>
            <div>
              <div class="song-title" id="nowTitle">Shri Krishna Govind</div>
              <div class="small" id="nowArtist">Traditional Bhajan</div>
              <div class="small" id="nowDuration"></div>
            </div>
          </div>

          <audio id="audio" preload="metadata">
            <!-- default source - replace with your own file or let JS set it -->
            <source src="audio/shri-krishna-govind.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>

          <div class="controls">
            <button class="btn" id="playBtn">Play</button>
            <button class="btn ghost" id="prevBtn">Prev</button>
            <button class="btn ghost" id="nextBtn">Next</button>
            <div style="flex:1"></div>
            <button class="btn ghost" id="downloadBtn">Download</button>
          </div>

          <div class="playlist" id="playlist">
            <!-- playlist items generated by JS -->
          </div>

          <div class="lyrics" id="lyrics">Select a bhajan from the playlist to see lyrics here.</div>
        </div>

        <!-- About / purpose -->
        <div style="height:18px"></div>
        <div class="card">
          <h3>About this collection</h3>
          <p class="small">This is a simple devotional website template for bhajans. Replace the placeholder audio files (under the <code>audio/</code> folder) with your recordings (MP3). You can also add YouTube embeds for live kirtans or videos.</p>
          <p class="small">Tip: Keep each bhajan file named and tagged so the player shows correct metadata. You can host audio on your server, or on a cloud storage/CDN and update the source URLs below.</p>
        </div>

      </section>

      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="card section">
          <h3>Upcoming Events</h3>
          <ul class="events small">
            <li><strong>Bhajan Sandhya</strong> — Oct 5, 2025 • 6:30 PM • Temple Hall</li>
            <li><strong>Monthly Kirtan</strong> — Oct 19, 2025 • 7:00 PM • Community Center</li>
            <li><strong>Special Pooja</strong> — Nov 12, 2025 • 9:00 AM • Main Shrine</li>
          </ul>
        </div>

        <div class="card section">
          <h3>Gallery</h3>
          <div class="gallery">
            <!-- Replace src with your images -->
            <img src="images/gallery1.jpg" alt="darshan">
            <img src="images/gallery2.jpg" alt="kirtan">
            <img src="images/gallery3.jpg" alt="prasad">
            <img src="images/gallery4.jpg" alt="community">
          </div>
        </div>

        <div class="card section">
          <h3>Contact & Contributions</h3>
          <p class="small">Invite, contribute songs or recordings, or request a bhajan:</p>
          <form onsubmit="event.preventDefault();alert('Thank you! We will contact you.');">
            <label for="name">Name</label>
            <input id="name" type="text" placeholder="Your name" required>
            <label for="email">Email</label>
            <input id="email" type="email" placeholder="you@example.com" required>
            <label for="message">Message</label>
            <textarea id="message" rows="3" placeholder="Your message"></textarea>
            <div style="height:8px"></div>
            <button class="btn" type="submit">Send</button>
          </form>
        </div>
      </aside>
    </div>

  </main>

  <footer>
    <div class="container">
      © Bhajan Sangrah — Built with devotion. Replace this footer with your temple/organization details.
    </div>
  </footer>

  <script>
    // ====== SAMPLE PLAYLIST ======
    // Replace the `src` values with your real audio file URLs (local files or hosted links).
    const playlist = [
      {
        id: 'bhajan1',
        title: 'Shri Krishna Govind (Aarti)',
        artist: 'Traditional',
        src: 'audio/shri-krishna-govind.mp3',
        cover: 'images/cover1.jpg',
        lyrics: `Shri Krishna govind hare murari
      He prabhu pyare...\n\n(Repeat)`
      },
      {
        id: 'bhajan2',
        title: 'Om Jai Jagdish Hare',
        artist: 'Popular Aarti',
        src: 'audio/om-jai-jagdish.mp3',
        cover: 'images/cover2.jpg',
        lyrics: `Om jai jagdish hare
      Swami jai jagdish hare...\n\n(Full lyrics)`
      },
      {
        id: 'bhajan3',
        title: 'Raghupati Raghav Raja Ram',
        artist: 'Traditional',
        src: 'audio/raghupati.mp3',
        cover: 'images/cover3.jpg',
        lyrics: `Raghupati raghav raja ram
      Patit pavan sitaram...\n\n(Full lyrics)`
      }
    ];

    // DOM refs
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const playlistEl = document.getElementById('playlist');
    const nowTitle = document.getElementById('nowTitle');
    const nowArtist = document.getElementById('nowArtist');
    const coverArt = document.getElementById('coverArt');
    const lyricsEl = document.getElementById('lyrics');
    const downloadBtn = document.getElementById('downloadBtn');

    let currentIndex = 0;

    function renderPlaylist(){
      playlistEl.innerHTML = '';
      playlist.forEach((t, i) => {
        const item = document.createElement('div');
        item.className = 'track' + (i===currentIndex ? ' active' : '');
        item.innerHTML = `<div>
            <div style=\"font-weight:700\">${t.title}</div>
            <div class=\"small\">${t.artist}</div>
          </div>
          <div class=\"small\">${formatFileSize(t.src)}</div>`;
        item.onclick = () => { playIndex(i); };
        playlistEl.appendChild(item);
      });
    }

    function playIndex(i){
      currentIndex = i;
      const t = playlist[i];
      audio.src = t.src; // make sure this path is accessible
      nowTitle.textContent = t.title;
      nowArtist.textContent = t.artist;
      coverArt.style.backgroundImage = t.cover ? `url(${t.cover})` : 'none';
      lyricsEl.textContent = t.lyrics || '';
      renderPlaylist();
      audio.play().then(()=>playBtn.textContent='Pause').catch(()=>{});
      downloadBtn.onclick = () => { window.open(t.src, '_blank'); };
    }

    // small helper to show approximate file name / size (we can't know size without fetching)
    function formatFileSize(src){
      try{
        const name = src.split('/').pop();
        return name;
      }catch(e){return ''}
    }

    playBtn.onclick = function(){
      if(audio.paused){ audio.play(); playBtn.textContent='Pause'; }
      else{ audio.pause(); playBtn.textContent='Play'; }
    };

    nextBtn.onclick = function(){
      currentIndex = (currentIndex + 1) % playlist.length; playIndex(currentIndex);
    };
    prevBtn.onclick = function(){
      currentIndex = (currentIndex - 1 + playlist.length) % playlist.length; playIndex(currentIndex);
    };

    audio.onended = function(){
      nextBtn.click();
    };

    // On metadata loaded, show duration
    audio.onloadedmetadata = function(){
      const d = audio.duration; if(isFinite(d)){
        document.getElementById('nowDuration').textContent = formatTime(d);
      }
    };
    function formatTime(s){
      const m = Math.floor(s/60); const sec = Math.floor(s%60).toString().padStart(2,'0'); return `${m}:${sec}`;
    }

    // Initialize
    renderPlaylist();
    playIndex(0);

    // Accessibility: keyboard controls for play/pause (Space) when focused on player
    document.addEventListener('keydown', function(e){
      if(e.code==='Space' && document.activeElement===playBtn){
        e.preventDefault(); playBtn.click();
      }
    });

    // Note for deployment: upload audio files to `audio/` folder and images to `images/`.
    // You may also replace playlist entries with full URLs to files hosted elsewhere.
  </script>
</body>
</html>
